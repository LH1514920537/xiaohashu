2025-05-03 20:41:41.573 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 20:41:41.631 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 20:41:43.456 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 20:41:43.469 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 20:41:43.470 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - The following 1 profile is active: "dev"
2025-05-03 20:41:43.988 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-03 20:41:43.990 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-03 20:41:44.013 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-05-03 20:41:44.193 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=382453da-327f-3442-95c7-eb16648e04c3
2025-05-03 20:41:44.227 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.oss.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 20:41:44.228 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 20:41:44.230 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 20:41:44.839 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-05-03 20:41:44.839 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.3.1] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2025-05-03 20:41:44.839 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.3.1] using APR version [1.7.4].
2025-05-03 20:41:44.845 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-05-03 20:41:44.853 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-03 20:41:44.853 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-03 20:41:44.938 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-03 20:41:44.939 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1453 ms
2025-05-03 20:41:45.028 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-03 20:41:45.332 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-03 20:41:45.619 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-oss' URL not provided. Will try picking an instance via load-balancing.
2025-05-03 20:41:45.927 [main] INFO  c.q.xiaohashu.user.biz.config.RedisTemplateConfig - Redis工厂创建成功org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory@2c8f65da
2025-05-03 20:41:46.016 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-05-03 20:41:46.338 [main] INFO  org.redisson.Version - Redisson 3.16.6
2025-05-03 20:41:46.693 [redisson-netty-4-19] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 20:41:46.693 [redisson-netty-4-18] INFO  org.redisson.connection.pool.PubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 20:41:46.696 [redisson-netty-4-32] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 20:41:46.699 [redisson-netty-4-5] INFO  org.redisson.connection.pool.SlaveConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 20:41:48.409 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 20:41:50.585 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 20:41:50.700 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-05-03 20:41:50.708 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 20:41:50.708 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-03 20:41:50.708 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-03 20:41:50.709 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-03 20:41:50.732 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-03 20:41:50.733 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-03 20:41:50.734 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-03 20:41:50.738 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-03 20:41:50.738 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-03 20:41:50.741 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-03 20:41:50.751 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 268495ed-4129-41bb-9738-f5b131fb6247
2025-05-03 20:41:50.770 [main] INFO  com.alibaba.nacos.common.remote.client - [268495ed-4129-41bb-9738-f5b131fb6247] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-03 20:41:50.770 [main] INFO  com.alibaba.nacos.common.remote.client - [268495ed-4129-41bb-9738-f5b131fb6247] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-03 20:41:50.770 [main] INFO  com.alibaba.nacos.common.remote.client - [268495ed-4129-41bb-9738-f5b131fb6247] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-03 20:41:50.773 [main] INFO  com.alibaba.nacos.common.remote.client - [268495ed-4129-41bb-9738-f5b131fb6247] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-03 20:41:50.815 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-03 20:41:52.219 [main] INFO  com.alibaba.nacos.common.remote.client - [268495ed-4129-41bb-9738-f5b131fb6247] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1746276112025_127.0.0.1_62152
2025-05-03 20:41:52.219 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [268495ed-4129-41bb-9738-f5b131fb6247] Notify connected event to listeners.
2025-05-03 20:41:52.219 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-03 20:41:52.220 [main] INFO  com.alibaba.nacos.common.remote.client - [268495ed-4129-41bb-9738-f5b131fb6247] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-03 20:41:52.220 [main] INFO  com.alibaba.nacos.common.remote.client - [268495ed-4129-41bb-9738-f5b131fb6247] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1407/0x000001f101a4e608
2025-05-03 20:41:52.221 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user with instance Instance{instanceId='null', ip='192.168.37.1', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-03 20:41:52.238 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user 192.168.37.1:8082 register finished
2025-05-03 20:41:53.835 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 20:41:53.842 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - Started XiaohashuUserBizApplication in 14.311 seconds (process running for 14.926)
2025-05-03 20:41:53.843 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-03 20:41:53.884 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2025-05-03 20:41:54.057 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2025-05-03 20:41:54.078 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2025-05-03 20:41:54.097 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - ==>  Preparing: select role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2025-05-03 20:41:54.100 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - ==> Parameters: 1(Long)
2025-05-03 20:41:54.103 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - <==      Total: 2
2025-05-03 20:41:54.104 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==>  Preparing: select id, name, permission_key from t_permission where status = 0 and type = 3 and is_deleted = 0
2025-05-03 20:41:54.105 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==> Parameters: 
2025-05-03 20:41:54.108 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - <==      Total: 2
2025-05-03 20:41:54.370 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2025-05-03 20:43:25.382 [http-nio-8082-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-03 20:43:25.382 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-03 20:43:25.383 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-03 20:43:25.394 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 20:43:25.397 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 20:43:25.477 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 20:43:25.481 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-05-03 20:43:25.482 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 12(Long)
2025-05-03 20:43:25.489 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-03 20:43:25.491 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 15ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 20:43:25.506 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 20:49:36.768 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 20:49:36.769 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 20:49:36.771 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 20:49:36.778 [http-nio-8082-exec-3] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 20:49:36.779 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 8ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 20:49:36.781 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 20:53:46.898 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 20:53:46.898 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 20:53:46.899 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 20:53:46.899 [http-nio-8082-exec-5] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 20:53:46.899 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 0ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 20:53:46.900 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 21:59:01.053 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 21:59:01.054 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 21:59:01.056 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 21:59:01.056 [http-nio-8082-exec-8] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 21:59:01.056 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 1ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 21:59:01.058 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 22:05:28.728 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 22:05:28.728 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 22:05:28.729 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 22:05:28.729 [http-nio-8082-exec-9] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 22:05:28.729 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 0ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 22:05:28.730 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 22:08:42.060 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 22:08:42.060 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 22:08:42.060 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 22:08:42.061 [http-nio-8082-exec-1] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 22:08:42.061 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 1ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 22:08:42.061 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 22:12:04.115 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 22:12:04.116 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 22:12:04.116 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 22:12:04.117 [http-nio-8082-exec-3] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 22:12:04.117 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 1ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 22:12:04.118 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 22:12:53.844 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 12
2025-05-03 22:12:53.845 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 12
2025-05-03 22:12:53.846 [http-nio-8082-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":11}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 22:12:53.855 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-05-03 22:12:53.856 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 11(Long)
2025-05-03 22:12:53.861 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-03 22:12:53.862 [http-nio-8082-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 15ms, 出参: {"success":true,"data":{"id":11,"nickName":"小红薯4"}} =================================== 
2025-05-03 22:12:53.863 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 12
2025-05-03 22:22:32.972 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 22:22:32.973 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 22:22:32.974 [http-nio-8082-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":66}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 22:22:32.977 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-05-03 22:22:32.978 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 66(Long)
2025-05-03 22:22:32.979 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 0
2025-05-03 22:22:32.983 [http-nio-8082-exec-6] WARN  c.q.x.user.biz.exception.GlobalExceptionHandler - /user/findById request fail, errorCode: USER-20007, errorMessage: 该用户不存在
2025-05-03 22:22:32.985 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 22:22:47.474 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 22:22:47.474 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 22:22:47.475 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":9}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 22:22:47.477 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-05-03 22:22:47.477 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 9(Long)
2025-05-03 22:22:47.479 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-03 22:22:47.479 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 4ms, 出参: {"success":true,"data":{"id":9,"nickName":"小红薯2"}} =================================== 
2025-05-03 22:22:47.480 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 22:23:05.957 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 22:23:05.957 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 22:23:05.958 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 22:23:05.958 [http-nio-8082-exec-7] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 22:23:05.958 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 0ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 22:23:05.959 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 22:53:02.248 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 22:53:02.249 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 22:53:02.249 [http-nio-8082-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 22:53:02.250 [http-nio-8082-exec-10] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 22:53:02.250 [http-nio-8082-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 1ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 22:53:02.250 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 23:12:07.746 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 23:12:07.746 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 23:12:07.747 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 23:12:07.747 [http-nio-8082-exec-2] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 23:12:07.747 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 0ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 23:12:07.748 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 23:12:22.936 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 23:12:22.936 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 23:12:22.937 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 23:12:22.937 [http-nio-8082-exec-3] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 23:12:22.937 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 0ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 23:12:22.938 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 23:14:37.647 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-03 23:14:37.647 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-03 23:14:37.648 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":12}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 23:14:37.648 [http-nio-8082-exec-5] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=12, nickName=小红薯10005, avatar=null)
2025-05-03 23:14:37.648 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 0ms, 出参: {"success":true,"data":{"id":12,"nickName":"小红薯10005"}} =================================== 
2025-05-03 23:14:37.649 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-03 23:32:47.604 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":8}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 23:32:47.611 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-05-03 23:32:47.612 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 8(Long)
2025-05-03 23:32:47.614 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-03 23:32:47.614 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 10ms, 出参: {"success":true,"data":{"id":8,"nickName":"小红鼠8","avatar":"http://127.0.0.1:9000/xiaohashu/b231c3575b5a4f76b1154ec0ec507722.png"}} =================================== 
2025-05-03 23:43:49.935 [Thread-11] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-03 23:43:49.935 [Thread-8] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-03 23:43:49.935 [Thread-8] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-03 23:43:49.936 [Thread-11] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-03 23:43:49.986 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-03 23:43:49.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user with instance: Instance{instanceId='null', ip='192.168.37.1', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-03 23:43:49.988 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-03 23:43:49.988 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-03 23:43:49.988 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@41c1cf5b[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-03 23:43:49.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1746276112025_127.0.0.1_62152
2025-05-03 23:43:49.990 [nacos-grpc-client-executor-127.0.0.1-2241] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1746276112025_127.0.0.1_62152]Ignore complete event,isRunning:false,isAbandon=false
2025-05-03 23:43:49.992 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@acf1ffb[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 2242]
2025-05-03 23:43:49.992 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@36331051[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 3638]
2025-05-03 23:43:49.993 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-03 23:43:49.993 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-03 23:43:49.993 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-03 23:43:50.125 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-03 23:43:50.127 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-03 23:43:57.784 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:43:57.855 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:43:59.718 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:43:59.731 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:43:59.732 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - The following 1 profile is active: "dev"
2025-05-03 23:44:00.290 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-03 23:44:00.293 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-03 23:44:00.314 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-05-03 23:44:00.510 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=382453da-327f-3442-95c7-eb16648e04c3
2025-05-03 23:44:00.539 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.oss.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 23:44:00.541 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 23:44:00.542 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 23:44:01.191 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-05-03 23:44:01.192 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.3.1] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2025-05-03 23:44:01.192 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.3.1] using APR version [1.7.4].
2025-05-03 23:44:01.197 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-05-03 23:44:01.209 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-03 23:44:01.209 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-03 23:44:01.305 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-03 23:44:01.305 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1557 ms
2025-05-03 23:44:01.407 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-03 23:44:01.722 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-03 23:44:02.071 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-oss' URL not provided. Will try picking an instance via load-balancing.
2025-05-03 23:44:02.429 [main] INFO  c.q.xiaohashu.user.biz.config.RedisTemplateConfig - Redis工厂创建成功org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory@49741274
2025-05-03 23:44:02.524 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-05-03 23:44:02.842 [main] INFO  org.redisson.Version - Redisson 3.16.6
2025-05-03 23:44:03.193 [redisson-netty-4-12] INFO  org.redisson.connection.pool.PubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:44:03.193 [redisson-netty-4-13] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:44:03.205 [redisson-netty-4-4] INFO  org.redisson.connection.pool.SlaveConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:44:03.206 [redisson-netty-4-5] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:44:04.946 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 23:44:07.025 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 23:44:07.115 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-05-03 23:44:07.121 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:44:07.122 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-03 23:44:07.122 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-03 23:44:07.123 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-03 23:44:07.145 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-03 23:44:07.145 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-03 23:44:07.146 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-03 23:44:07.149 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-03 23:44:07.149 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-03 23:44:07.152 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-03 23:44:07.160 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 24bc1dfc-1c66-43bb-b70a-6ee4cda25aec
2025-05-03 23:44:07.178 [main] INFO  com.alibaba.nacos.common.remote.client - [24bc1dfc-1c66-43bb-b70a-6ee4cda25aec] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-03 23:44:07.178 [main] INFO  com.alibaba.nacos.common.remote.client - [24bc1dfc-1c66-43bb-b70a-6ee4cda25aec] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-03 23:44:07.178 [main] INFO  com.alibaba.nacos.common.remote.client - [24bc1dfc-1c66-43bb-b70a-6ee4cda25aec] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-03 23:44:07.180 [main] INFO  com.alibaba.nacos.common.remote.client - [24bc1dfc-1c66-43bb-b70a-6ee4cda25aec] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-03 23:44:07.213 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-03 23:44:08.427 [main] INFO  com.alibaba.nacos.common.remote.client - [24bc1dfc-1c66-43bb-b70a-6ee4cda25aec] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1746287048248_127.0.0.1_54946
2025-05-03 23:44:08.427 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [24bc1dfc-1c66-43bb-b70a-6ee4cda25aec] Notify connected event to listeners.
2025-05-03 23:44:08.427 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-03 23:44:08.428 [main] INFO  com.alibaba.nacos.common.remote.client - [24bc1dfc-1c66-43bb-b70a-6ee4cda25aec] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-03 23:44:08.428 [main] INFO  com.alibaba.nacos.common.remote.client - [24bc1dfc-1c66-43bb-b70a-6ee4cda25aec] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1428/0x0000024aa1a50000
2025-05-03 23:44:08.429 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user with instance Instance{instanceId='null', ip='192.168.37.1', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-03 23:44:08.441 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user 192.168.37.1:8082 register finished
2025-05-03 23:44:09.897 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 23:44:09.904 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - Started XiaohashuUserBizApplication in 14.354 seconds (process running for 15.091)
2025-05-03 23:44:09.905 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-03 23:44:09.937 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2025-05-03 23:44:10.062 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2025-05-03 23:44:10.080 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2025-05-03 23:44:10.097 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - ==>  Preparing: select role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2025-05-03 23:44:10.099 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - ==> Parameters: 1(Long)
2025-05-03 23:44:10.101 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - <==      Total: 2
2025-05-03 23:44:10.103 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==>  Preparing: select id, name, permission_key from t_permission where status = 0 and type = 3 and is_deleted = 0
2025-05-03 23:44:10.104 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==> Parameters: 
2025-05-03 23:44:10.106 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - <==      Total: 2
2025-05-03 23:44:10.350 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2025-05-03 23:44:21.615 [http-nio-8082-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-03 23:44:21.615 [http-nio-8082-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-03 23:44:21.618 [http-nio-8082-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-03 23:44:21.720 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":8}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 23:44:21.724 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-05-03 23:44:21.725 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 8(Long)
2025-05-03 23:44:21.732 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-03 23:44:21.735 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 16ms, 出参: {"success":true,"data":{"id":8,"nickName":"小红鼠8","avatar":"http://127.0.0.1:9000/xiaohashu/b231c3575b5a4f76b1154ec0ec507722.png"}} =================================== 
2025-05-03 23:46:39.576 [Thread-8] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-03 23:46:39.577 [Thread-8] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-03 23:46:39.577 [Thread-11] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-03 23:46:39.577 [Thread-11] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-03 23:46:39.631 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-03 23:46:39.631 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user with instance: Instance{instanceId='null', ip='192.168.37.1', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-03 23:46:39.636 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-03 23:46:39.636 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-03 23:46:39.636 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-03 23:46:39.637 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@78ce91e2[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-03 23:46:39.638 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1746287048248_127.0.0.1_54946
2025-05-03 23:46:39.640 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1c515ef8[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 46]
2025-05-03 23:46:39.640 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@58c67b4c[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 50]
2025-05-03 23:46:39.640 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-03 23:46:39.640 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-03 23:46:39.641 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-03 23:46:39.782 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-03 23:46:39.789 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-03 23:46:46.869 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:46:46.924 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:46:48.711 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:46:48.724 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:46:48.724 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - The following 1 profile is active: "dev"
2025-05-03 23:46:49.215 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-03 23:46:49.218 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-03 23:46:49.237 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-05-03 23:46:49.414 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=382453da-327f-3442-95c7-eb16648e04c3
2025-05-03 23:46:49.445 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.oss.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 23:46:49.446 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 23:46:49.448 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 23:46:50.029 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-05-03 23:46:50.029 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.3.1] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2025-05-03 23:46:50.030 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.3.1] using APR version [1.7.4].
2025-05-03 23:46:50.034 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-05-03 23:46:50.042 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-03 23:46:50.042 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-03 23:46:50.126 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-03 23:46:50.127 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1387 ms
2025-05-03 23:46:50.218 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-03 23:46:50.493 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-03 23:46:50.778 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-oss' URL not provided. Will try picking an instance via load-balancing.
2025-05-03 23:46:51.091 [main] INFO  c.q.xiaohashu.user.biz.config.RedisTemplateConfig - Redis工厂创建成功org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory@14624acc
2025-05-03 23:46:51.179 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-05-03 23:46:51.501 [main] INFO  org.redisson.Version - Redisson 3.16.6
2025-05-03 23:46:51.828 [redisson-netty-4-11] INFO  org.redisson.connection.pool.PubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:46:51.828 [redisson-netty-4-10] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:46:51.839 [redisson-netty-4-3] INFO  org.redisson.connection.pool.SlaveConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:46:51.840 [redisson-netty-4-5] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:46:53.539 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 23:46:55.552 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 23:46:55.651 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-05-03 23:46:55.658 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:46:55.658 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-03 23:46:55.658 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-03 23:46:55.659 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-03 23:46:55.680 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-03 23:46:55.681 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-03 23:46:55.681 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-03 23:46:55.685 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-03 23:46:55.685 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-03 23:46:55.688 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-03 23:46:55.696 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 4e31ad75-28cd-444e-9279-276519295ce9
2025-05-03 23:46:55.712 [main] INFO  com.alibaba.nacos.common.remote.client - [4e31ad75-28cd-444e-9279-276519295ce9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-03 23:46:55.712 [main] INFO  com.alibaba.nacos.common.remote.client - [4e31ad75-28cd-444e-9279-276519295ce9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-03 23:46:55.713 [main] INFO  com.alibaba.nacos.common.remote.client - [4e31ad75-28cd-444e-9279-276519295ce9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-03 23:46:55.715 [main] INFO  com.alibaba.nacos.common.remote.client - [4e31ad75-28cd-444e-9279-276519295ce9] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-03 23:46:55.748 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-03 23:46:56.985 [main] INFO  com.alibaba.nacos.common.remote.client - [4e31ad75-28cd-444e-9279-276519295ce9] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1746287216804_127.0.0.1_55138
2025-05-03 23:46:56.985 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [4e31ad75-28cd-444e-9279-276519295ce9] Notify connected event to listeners.
2025-05-03 23:46:56.985 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-03 23:46:56.986 [main] INFO  com.alibaba.nacos.common.remote.client - [4e31ad75-28cd-444e-9279-276519295ce9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-03 23:46:56.986 [main] INFO  com.alibaba.nacos.common.remote.client - [4e31ad75-28cd-444e-9279-276519295ce9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1428/0x0000029a91a50000
2025-05-03 23:46:56.987 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user with instance Instance{instanceId='null', ip='192.168.37.1', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-03 23:46:56.998 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user 192.168.37.1:8082 register finished
2025-05-03 23:46:58.493 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 23:46:58.500 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - Started XiaohashuUserBizApplication in 13.575 seconds (process running for 14.193)
2025-05-03 23:46:58.500 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-03 23:46:58.532 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2025-05-03 23:46:58.651 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2025-05-03 23:46:58.667 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2025-05-03 23:46:58.684 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - ==>  Preparing: select role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2025-05-03 23:46:58.685 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - ==> Parameters: 1(Long)
2025-05-03 23:46:58.687 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - <==      Total: 2
2025-05-03 23:46:58.688 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==>  Preparing: select id, name, permission_key from t_permission where status = 0 and type = 3 and is_deleted = 0
2025-05-03 23:46:58.689 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==> Parameters: 
2025-05-03 23:46:58.691 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - <==      Total: 2
2025-05-03 23:46:58.930 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2025-05-03 23:47:04.435 [http-nio-8082-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-03 23:47:04.436 [http-nio-8082-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-03 23:47:04.436 [http-nio-8082-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-03 23:47:04.527 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":8}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 23:47:04.540 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 14ms, 出参: {"success":true,"data":{"id":8,"nickName":"小红鼠8","avatar":"http://127.0.0.1:9000/xiaohashu/b231c3575b5a4f76b1154ec0ec507722.png"}} =================================== 
2025-05-03 23:48:05.004 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":8}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 23:48:05.007 [http-nio-8082-exec-5] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRespDTO(id=8, nickName=小红鼠8, avatar=http://127.0.0.1:9000/xiaohashu/b231c3575b5a4f76b1154ec0ec507722.png, introduction=null)
2025-05-03 23:48:05.008 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 4ms, 出参: {"success":true,"data":{"id":8,"nickName":"小红鼠8","avatar":"http://127.0.0.1:9000/xiaohashu/b231c3575b5a4f76b1154ec0ec507722.png"}} =================================== 
2025-05-03 23:49:40.543 [Thread-11] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-03 23:49:40.543 [Thread-8] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-03 23:49:40.543 [Thread-8] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-03 23:49:40.544 [Thread-11] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-03 23:49:40.580 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-03 23:49:40.581 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user with instance: Instance{instanceId='null', ip='192.168.37.1', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-03 23:49:40.584 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-03 23:49:40.584 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-03 23:49:40.584 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-03 23:49:40.584 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-03 23:49:40.584 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-03 23:49:40.584 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-03 23:49:40.584 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-03 23:49:40.584 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@528c0099[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-03 23:49:40.585 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1746287216804_127.0.0.1_55138
2025-05-03 23:49:40.587 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@64382e1a[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 45]
2025-05-03 23:49:40.587 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4f3035ea[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 54]
2025-05-03 23:49:40.587 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-03 23:49:40.587 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-03 23:49:40.588 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-03 23:49:40.719 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-03 23:49:40.726 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-03 23:49:46.278 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:49:46.334 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:49:48.125 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:49:48.138 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:49:48.139 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - The following 1 profile is active: "dev"
2025-05-03 23:49:48.662 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-03 23:49:48.668 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-03 23:49:48.688 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-05-03 23:49:48.881 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=382453da-327f-3442-95c7-eb16648e04c3
2025-05-03 23:49:48.913 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.oss.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 23:49:48.915 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 23:49:48.916 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-05-03 23:49:49.516 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-05-03 23:49:49.516 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.3.1] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2025-05-03 23:49:49.517 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.3.1] using APR version [1.7.4].
2025-05-03 23:49:49.521 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-05-03 23:49:49.529 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-03 23:49:49.530 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-03 23:49:49.618 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-03 23:49:49.618 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1462 ms
2025-05-03 23:49:49.714 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-03 23:49:49.997 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-03 23:49:50.304 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-oss' URL not provided. Will try picking an instance via load-balancing.
2025-05-03 23:49:50.606 [main] INFO  c.q.xiaohashu.user.biz.config.RedisTemplateConfig - Redis工厂创建成功org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory@49741274
2025-05-03 23:49:50.702 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-05-03 23:49:51.029 [main] INFO  org.redisson.Version - Redisson 3.16.6
2025-05-03 23:49:51.366 [redisson-netty-4-32] INFO  org.redisson.connection.pool.PubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:49:51.366 [redisson-netty-4-2] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:49:51.377 [redisson-netty-4-4] INFO  org.redisson.connection.pool.SlaveConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:49:51.378 [redisson-netty-4-5] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-05-03 23:49:53.093 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 23:49:55.139 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 23:49:55.229 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-05-03 23:49:55.235 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-03 23:49:55.235 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-03 23:49:55.235 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-03 23:49:55.236 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-03 23:49:55.257 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-03 23:49:55.257 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-03 23:49:55.258 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-03 23:49:55.261 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-03 23:49:55.261 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-03 23:49:55.264 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-03 23:49:55.271 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 0a66e2b9-590f-4650-9771-87e7b8e28355
2025-05-03 23:49:55.288 [main] INFO  com.alibaba.nacos.common.remote.client - [0a66e2b9-590f-4650-9771-87e7b8e28355] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-03 23:49:55.288 [main] INFO  com.alibaba.nacos.common.remote.client - [0a66e2b9-590f-4650-9771-87e7b8e28355] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-03 23:49:55.288 [main] INFO  com.alibaba.nacos.common.remote.client - [0a66e2b9-590f-4650-9771-87e7b8e28355] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-03 23:49:55.290 [main] INFO  com.alibaba.nacos.common.remote.client - [0a66e2b9-590f-4650-9771-87e7b8e28355] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-03 23:49:55.321 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-03 23:49:56.523 [main] INFO  com.alibaba.nacos.common.remote.client - [0a66e2b9-590f-4650-9771-87e7b8e28355] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1746287396350_127.0.0.1_55362
2025-05-03 23:49:56.523 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [0a66e2b9-590f-4650-9771-87e7b8e28355] Notify connected event to listeners.
2025-05-03 23:49:56.523 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-03 23:49:56.524 [main] INFO  com.alibaba.nacos.common.remote.client - [0a66e2b9-590f-4650-9771-87e7b8e28355] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-03 23:49:56.524 [main] INFO  com.alibaba.nacos.common.remote.client - [0a66e2b9-590f-4650-9771-87e7b8e28355] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1409/0x0000027c84a4e608
2025-05-03 23:49:56.525 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user with instance Instance{instanceId='null', ip='192.168.37.1', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-03 23:49:56.536 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user 192.168.37.1:8082 register finished
2025-05-03 23:49:58.030 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-03 23:49:58.037 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - Started XiaohashuUserBizApplication in 13.73 seconds (process running for 14.373)
2025-05-03 23:49:58.038 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-03 23:49:58.072 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2025-05-03 23:49:58.200 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2025-05-03 23:49:58.215 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2025-05-03 23:49:58.232 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - ==>  Preparing: select role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2025-05-03 23:49:58.234 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - ==> Parameters: 1(Long)
2025-05-03 23:49:58.236 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleId - <==      Total: 2
2025-05-03 23:49:58.237 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==>  Preparing: select id, name, permission_key from t_permission where status = 0 and type = 3 and is_deleted = 0
2025-05-03 23:49:58.239 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==> Parameters: 
2025-05-03 23:49:58.243 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - <==      Total: 2
2025-05-03 23:49:58.489 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2025-05-03 23:50:20.970 [http-nio-8082-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-03 23:50:20.970 [http-nio-8082-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-03 23:50:20.971 [http-nio-8082-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-03 23:50:21.071 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":8}, 请求类: UserController, 请求方法: findById =================================== 
2025-05-03 23:50:21.076 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-05-03 23:50:21.077 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 8(Long)
2025-05-03 23:50:21.083 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-03 23:50:21.086 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 16ms, 出参: {"success":true,"data":{"id":8,"nickName":"小红鼠8","avatar":"http://127.0.0.1:9000/xiaohashu/b231c3575b5a4f76b1154ec0ec507722.png","introduction":"程序员"}} =================================== 
2025-05-03 23:52:26.060 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8,9,11]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-05-03 23:52:26.073 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 13ms, 出参: {"success":true,"data":[{"id":8,"nickName":"小红鼠8","avatar":"http://127.0.0.1:9000/xiaohashu/b231c3575b5a4f76b1154ec0ec507722.png","introduction":"程序员"},{"id":9,"nickName":"小红薯2"},{"id":11,"nickName":"小红薯4"}]} =================================== 
